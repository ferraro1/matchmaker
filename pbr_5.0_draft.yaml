---
################################################################
################################################################
# PBR Match Configuration testing
# 
# Configuration Reference:
# https://docs.google.com/document/d/13B3cE4udEvMAgjE4q0S_h_UsDOlXHTuUHtOS_B_y-Tk/edit?usp=sharing
#
# If you are new to YAML, download Notepad++ to take advantage of
# colored syntax highlighting for much easier reading.
#
################################################################
################################################################

    
################################
matchmaker_settings:
################################
    # Matchmaker only settings, i.e. they don't get passed to the core.

    # Attempt to make balanced matches.
    make_balanced_matches: true
    
    # Acceptable value for winchance estimate from the match analysis tool.
    # Percentage between 50 and 100.  Lower = more balanced.
    acceptable_estimated_winchance: 60
    
    # Maxixmum number of different matches to generate and test, 
    # in the attempt to find a balanced match.
    max_attempts: 20
    
    # 1 / 2048
    shiny_chance: 0.00048828125
    
    # When true: If a token match bidder chooses sets, switching is forced 
    # to be off (but still may be special for U-turn).
    # When false: No effect.
    force_switching_off_if_team_choice: true
    
    # Forced bet_bonus for token matches where the match bidder
    # specifies the Pokemon species for the teams.
    team_choice_bet_bonus: 2
    
    # Chance that a gimmick gets picked.
    default_gimmick_chance: .5
    
    holiday_mode: false     # Holiday support to be added.
    


################################       
splatoon_settings:
################################
    enabled: no
    gimmicks_per_rotation: 2
    rotation_duration: 1    # In hours.
    gimmick_chance: .6


################################
match_settings:
################################
    ################
    default_modifiable:
    ################
        # Metagames and gimmicks may specify 
        # different values for these settings.
        
        # Delay in seconds before selecting a move.
        move_delay: 4 
        
        # Delay in seconds before selecting a switch.
        switch_delay: 5
        
        # PBR emulation speed multipler.
        emulation_speed_multiplier: 1
        
        # Percent chance for switching to be on.
        switching: 50     
        
        # Early bet bonus.
        bet_bonus: 30
        
        # Early bet bonus when switching is on.
        switching_bet_bonus: 35
        
        # Bet ceiling. Modify to some integer value.
        bet_ceiling: null
    
    ################
    fixed:
    ################
        # Metagames and gimmicks may NOT specify 
        # different values for these settings.
        
        bet_limits:
            betting_start:
                limit:     # Set an amount if desired.
            after_betting_start: 
                # Add entries if desired.
            before_betting_end: 
                # Add or remove entries as desired.
              - seconds: 40
                limit: 50000
              - seconds: 20
                limit: 5000
      
        # Points define sections of linear decay.
        # The bet_bonus at these points is 'bet_bonus' * 'bonus multiplier'.
        # 
        # Points must preserve chronological order.
        # Betting duration is variable with the song length.
        # 
        # Only numerical values can be changed.
        # Metagames and gimmicks cannot specify different values.
        bet_bonus_decay:
            betting_start:
                bonus_multiplier: 1
            after_betting_start:
              - seconds: 25
                bonus_multiplier: 1
              - seconds: 85
                bonus_multiplier: 0.5
            before_betting_end:
              - seconds: 25
                bonus_multiplier: 0
            betting_end:
                bonus_multiplier: 0
                
        # Matches that exceed this time limit will be
        # forced to end in a draw.  Specified in minutes.
        # NOT implemented yet.
        match_duration_limit: 30
            
################################
one_move_per_Pokemon_settings:
################################
    # Settings that trigger when switching is off 
    # and there is one move per Pokemon.
    # (Ex: metronome, ohko, and metronome + ohko matches).
    move_delay: 0
    switch_delay: 0
    emulation_speed_multiplier: 1.5

    
################################
metagames:
################################
    ################
    single:
    ################
        # Metagame name for the overlay and token match bid commands.
        simple:
            # Rarities are not percentages.
            # In metagame selection, metagames are chosen by accumulating 
            # and then randomly bisecting their rarities.
            rarity: 25.0
            
            # Internal set tag, set by movesets team.
            set_tag: standard
            
            # Name displayed on the overlay.
            display_name: Simple
            
            # Alternate names accepted in match bids.
            bid_aliases: [simple, standard]
            
            # Description for the overlay.
            description: A match using simple movesets.
            
        advanced:
            rarity: 12.5
            set_tag: advanced
            display_name: Advanced
            bid_aliases: [advanced, advance]
            description: A match using more complex movesets.
            
        ubers:
            rarity: 5.0
            set_tag: ubers
            display_name: Ubers
            bid_aliases: [ubers, uber]
            description: A match using the most powerful Pokémon with very strong sets.
            
        middle_cup:
            disabled: yes
            rarity: 5.0
            set_tag: middle-cup
            display_name: Middle Cup
            bid_aliases: [middlecup, mc, mcup]
            description: 
            
        little_cup:
            disabled: yes
            rarity: 5.0
            set_tag: little-cup
            display_name: Little Cup
            bid_aliases: [littlecup, lc, lcup]
            description: 
            
        stadium_2:
            rarity: 5.0
            set_tag: setname+stadium-2
            display_name: Stadium 2
            bid_aliases: [stadium2, stad2]
            description: A match using Lv. 100 rental Pokémon from Stadium 2.
            
        runmons:
            rarity: 0.0
            match_settings:
                bet_bonus: 10
                switching_bet_bonus: 10
            set_tag: runmon
            display_name: Runmons
            bid_aliases: [runmons, runmon]
            description: 
            
        ashmons:
            disabled: yes
            rarity: 0.0
            match_settings:
                bet_bonus: 10
                switching_bet_bonus: 10
            set_tag: ashmon
            display_name: Ashmons
            bid_aliases: [ashmons, ashmon]
            description: 
            
        starters:
            rarity: 0.0
            match_settings:
                bet_bonus: 2
                switching_bet_bonus: 2
            set_tag: starterbattle
            display_name: Starters
            bid_aliases: [starters, starter]
            description: 
            
        metronome:
            rarity: 0.0
            # This bet_bonus applies to metronome token match bids
            # which did not choose sets.
            # Ex: 'match metronome t1'
            match_settings:
                bet_bonus: 10
                switching_bet_bonus: 10
            set_tag: setname+metronome
            display_name: Metronome
            bid_aliases: [metronome, metro, yolo, yolonome]
            description: 
            
        ohko:
            rarity: 0.0
            match_settings:
                bet_bonus: 10
                switching_bet_bonus: 10
            set_tag: setname+ohko
            display_name: OHKO
            bid_aliases: [ohko]
            description: 
            
        seismic_toss:
            rarity: 0.0
            match_settings:
                bet_bonus: 10
                switching_bet_bonus: 10
            set_tag: setname+st
            display_name: Seismic Toss
            bid_aliases: [seismictoss, st, toss]
            description: 
            
        # Renamed the KAPOW meset_tagame to avoid conflict with the KAPOW gimmick.
        pokecidal:
            rarity: 0.0
            match_settings:
                bet_bonus: 2
                switching_bet_bonus: 2
            set_tag: setname+kapow
            display_name: Pokecidal
            bid_aliases: [pokecidal, pokecide]
            description: 
            
        rough_skin:
            rarity: 0.0
            match_settings:
                bet_bonus: 10
                switching_bet_bonus: 10
            set_tag: setname+rough-skin
            display_name: Rough Skin
            bid_aliases: [roughskin, rs]
            description: 
            
        input_war:
            rarity: 0.0
            match_settings:
                bet_bonus: 15
                switching_bet_bonus: 15
            set_tag: setname+input-war
            display_name: Input War
            bid_aliases: [inputwar]
            description: 
        
    ################
    versus_mixes:
    ################
        class_warfare:
            rarity: 5.0
            # Example of having 10 different versus mixes falling
            # under the name 'Class Warfare'.
            mixes:
                # After "class_warfare" is chosen, sub_rarity determines which particular
                # mix gets chosen.  In this case there's only one mix, so it always gets chosen.
                
                # 4 choose 2 = 6 possible versus combinations in this mix.
              - metagames: [simple, advanced, runmons, stadium_2]
                sub_rarity: 1.0
            display_name: Class Warfare
            icon: versus
            description: # Leave blank for auto generated description.
         
    ################
    random_mixes:
    ################
        random_mix:
            rarity: 5.0
            mixes:
                # At least one Pokemon from each metagame will be present.
              - metagames: [simple, advanced, runmons, stadium_2]
                sub_rarity: 6.0
            display_name: Mix
            icon: mix
            description: # Leave blank for auto generated description.

    ################
    token_mix:
    ################
        token_mix:
            display_name: Mix
            icon: mix
            description: # Leave blank for auto generated description.
  
    
################################
gimmicks:
################################
    ################
    single:
    ################
        # Gimmicks are automatically assigned one or more of the commented categories.

        ################
        # Normal match- no gimmick.
        ################
        normal:
            # Rarity is calculated automatically based on the 
            # 'default_gimmick_chance' match setting.
            display_name: Normal
            bid_aliases: [normal]
            description: No special rules or mechanics are applied.
                
        ################
        # input_change category
        ################
        defiance:
            # These are not percentages.
            # In gimmick selection, gimmicks are chosen by accumulating 
            # and then randomly bisecting their rarities.
            rarity: 3.0
            match_settings:
                switching: permanently_disabled
                move_delay: 0
                switch_delay: 0
                emulation_speed_multiplier: 1.5
                bet_bonus: 35
                switching_bet_bonus: 40
            # A tag for programmers.
            input_change:
                tag: defiance
            display_name: defiance
            bid_aliases: [defiance]
            description: Inputs are ineffective. Each move will have a probability of 25% to be chosen.
            
        commitment:
            rarity: 2.0
            match_settings:
                move_delay: 0
                switch_delay: 0
            input_change:
                tag: commitment
            display_name: Commitment
            bid_aliases: [commitment]
            description: Inputs can't be changed anymore 20 seconds after betting has ended.
            
        duel:
            rarity: 1.5
            input_change:
                tag: duel
            display_name: Duel
            bid_aliases: [duel]
            description: It's a one on one showdown! The inputter with the most influence on their team gets total control of the team.
            
        synchronize:
            rarity: 0.5
            match_settings:
                bet_bonus: 2
                switching_bet_bonus: 2
                bet_ceiling: 50000
            input_change:
                tag: synchronize
            display_name: Synchronize
            bid_aliases: [synchronize, sync]
            description: Inputs from both teams are combined into one single input replace pool affecting both sides.
            
        synchronize_2:
            rarity: 1.0
            match_settings:
                bet_bonus: 50
                switching_bet_bonus: 60
            input_change:
                tag: synchronize_2
            display_name: Sync 50-50
            bid_aliases: [sync50-50, sync5050, sync2]
            description: Teams have 50% input influence on each other.
        
        ################
        # team_change category
        ################
        random_order:
            rarity: 1.0            
            match_settings:
                # Switching = 0 allows for U-turn style switching
                # if this gimmick gets combined with Hit and Run.
                switching: 0
                bet_bonus: 40
                switching_bet_bonus: 45
            team_change:
                tag: random_order
            display_name: Random Order
            bid_aliases: [randomorder]
            description: The order in which the Pokémon are sent out will be randomized after the match has started.
            
        secrecy:
            rarity: 1.0
            match_settings:
                bet_bonus: 40
                switching_bet_bonus: 45
            team_change:
                tag: secrecy
            display_name: Secrecy
            bid_aliases: [secrecy]
            description: One Pokémon of each team is hidden and gets revealed after the match has started.
            
        traitor:
            rarity: 1.0
            match_settings:
                bet_bonus: 40
                switching_bet_bonus: 45
            team_change:
                tag: traitor
            display_name: Traitor
            bid_aliases: [traitor]
            description: One Pokémon from each team is actually on the other team! The traitors get revealed after the match has started.
            
        ################
        # battle_change category
        ################
        fog:
            rarity: 0.5
            battle_change:
                tag: fog
            display_name: Chance of Fog
            bid_aliases: [chanceoffog, fog]
            description: 50% chance for the Colosseum to be shrouded in a deep fog!  Moves are 60% as accurate in fog.
            
        speed:
            rarity: 2.0
            match_settings:
                move_delay: 0
                switch_delay: 0
                emulation_speed_multiplier: 2.0
                bet_bonus: 35
                switching_bet_bonus: 40
            battle_change:
                tag: speed
            display_name: Speed
            bid_aliases: [speed]
            description: The match is sped up. There are no delays, and animations play faster.
            
        fragile:
            rarity: 1.0
            match_settings:
                # Switching = 0 allows for U-turn style switching
                # if this gimmick gets combined with Hit and Run.
                switching: 0
            battle_change:
                tag: fragile
            display_name: Fragile
            bid_aliases: [fragile]
            description: Each move will start with exactly 1 PP.
        
        ################
        # species_replace category
        ################
        clone:
            rarity: 1.0
            match_settings:
                bet_bonus: 10
                switching_bet_bonus: 15
            species_replace:
                one_per_match: yes
            # Probably need a few more mons in this blacklist.
                pool_blacklist:
                  - Smeargle
                  - Zigzagoon
                  - Shuckle
                  - Blissey
                  - Chansey
                  - Steelix
                  - Regirock
                  - Regice
                  - Registeel
                  - Cloyster
                  - Aggron
                  - Bastiodon
                  - Onix
                  - Probopass
                  - Forretress
                  - Skarmory
                  - Nosepass
                  - Bronzor
                  - Bronzong
                  - Wobbuffet
                  - Giratina
            display_name: Clone
            bid_aliases: [clone]
            description: All Pokémon become the same random species, but otherwise keep their sets.
            
        sketchy:
            rarity: 0.002
            match_settings:
                bet_bonus: 10
                switching_bet_bonus: 15
            species_replace:
                pool:
                  - Smeargle
            display_name: Sketchy
            bid_aliases: [sketchy]
            description: All Pokémon are replaced by Smeargles, but otherwise keep their sets.
        
        raccoon:
            rarity: 0.002
            match_settings:
                bet_bonus: 10
                switching_bet_bonus: 15
            species_replace:
                pool:
                  - Zigzagoon
            display_name: Raccoon
            bid_aliases: [raccoon, raccattack]
            description: 
              
        ################
        # ability_replace category
        ################
        pinpoint:
            rarity: 1.0
            match_settings:
                bet_bonus: 10
                switching_bet_bonus: 15
            ability_replace:
                pool:
                  - No Guard
            display_name: Pinpoint
            bid_aliases: [pinpoint, noguard]
            description: All abilities get replaced with No Guard. (Moves cannot miss.)
            
        chameleon:
            rarity: 1.0
            ability_replace:
                pool:
                  - Color Change
            display_name: Chameleon
            bid_aliases: [chameleon, colorchange]
            description: All abilities get replaced with Color Change. (Changes the Pokémon's type to the type of the move used on it.)
            
        shield:
            rarity: 0.2
            ability_replace:
                pool:
                  - Shield Dust
            display_name: Shield
            bid_aliases: [shield, shielddust]
            description: All abilities get replaced with Shield Dust. (Moves only do damage, with no added effects.)
            
        armor:
            rarity: 0.2
            ability_replace:
                pool:
                  - Battle Armor
                  - Shell Armor
            display_name: 
            bid_aliases: [armor, battlearmor, shellarmor]
            description: All abilities get replaced with Battle or Shell Armor. (Critical hits are impossible.)
          
        ################
        # move_replace category
        ################
        kapow:
            rarity: 1.0
            match_settings:
                bet_bonus: 10
                switching_bet_bonus: 15
            move_replace:
                pool:
                  - Self-Destruct
                  - Explosion
            display_name: KAPOW
            bid_aliases: [kapow]
            description: Each Pokémon has one random move_replaced with Explosion or Self Destruct.
            
        rainbow:
            # An old idea was to replace abilities with serene grace.
            # If accepted, this should move to the "multi replace" 
            # section below, just for organizational purposes.
            rarity: 0.5
            move_replace:
                pool:
                  - Ominous Wind
                  - Ancient Power
                  - Silver Wind
            display_name: Rainbow
            bid_aliases: [rainbow, kappapride]
            description: All Pokémon have a random move_replaced with one that has a 10% chance to raise all of the user's stats.
            
        hit_and_run:
            rarity: 0.5
            move_replace:
                pool:
                  - U-turn
            switching: special
            display_name: Hit & Run
            bid_aliases: [hitandrun, hit&run]
            description: Each Pokémon has one random move_replaced with U-Turn. Switch votes only apply if U-Turn was used.
            
        Hidden Ace:
            move_replace:
                pool:
                  - Trump Card
                pp: 1
            rarity: 0.4
            display_name: 
            bid_aliases: [hiddenace, ace, trumpcard]
            description: Each Pokémon has one random move_replaced with Trump Card at 1PP. (The move has 200 power.)
            
        letdown:
            move_replace:
                pool:
                  - Splash
            rarity: 0.1
            display_name: Letdown
            bid_aliases: [letdown, splash]
            description: Each Pokémon has one random move_replaced with Splash.
            
        ################
        # pokemon_theme category
        ################
        fire_and_ice:
            rarity: 0.2
            pokemon_theme:
                any_tags: 
                  - 'type+fire'
                  - 'type+ice'
            display_name: Fire and Ice
            bid_aliases: [fireandice]
            description: Only fire and ice type Pokémon are allowed.
            
        sky_battle:
            rarity: 0.5
            pokemon_theme:
                any_tags: 
                  - 'type+flying'
                  - 'ability+levitate'
            display_name: Sky Battle
            bid_aliases: [skybattle]
            description: Only flying type and levitating Pokémon are allowed.
                
        # Gimmicks that will be auto-assigned multiple categories.
        ################
        # multi category
        ################
        lucky:
            rarity: 0.3
            ability_replace:
                pool:
                  - Super Luck
            item_replace:
                pool: 
                  - Scope Lens
            display_name: Lucky
            bid_aliases: [lucky, superluck]
            description: All abilities get replaced with Super Luck, and items with scope lens (Raises critical chance by 2 stages total).
            
        boing:
            rarity: 0.1
            ability_replace:
                pool:
                  - Skill Link
            move_replace:
                pool:
                  - Barrage
            display_name: Boing
            bid_aliases: [boing, barrage]
            description: All Pokémon get the Skill Link ability and the move Barrage (All multi-hit moves like Barrage hit 5 times).
            
        acid_rain:
            rarity: 1.0
            match_settings:
                bet_bonus: 30
                switching_bet_bonus: 40
            ability_replace:
                pool:
                  - Drizzle
                  - Drought
                  - Sand Stream
                  - Snow Warning
            move_replace:
                pool:
                  - Weather Ball
            display_name: Acid Rain
            bid_aliases: [acidrain]
            description: All abilities get replaced with a random weather inducing ability.
            
    ################
    random_combos:
    ################
        random_combo:
            # rarity determines how often "Random Combo" is chosen.
            rarity: 5.0
            combos:
                # After "Random Combo" is chosen, sub_rarity determines which particular
                # combo gets chosen.
                # Any two gimmicks will be present.
              - gimmicks: [single, single]
                sub_rarity: 0.4
                # Example of boosting a popular gimmick combination.
              - gimmicks: [defiance, random_order]
                sub_rarity: 0.2
                # Any three gimmicks will be present, with rarity 0.1.
              - gimmicks: [single, single, single]
                sub_rarity: 0.2
                # Any four gimmicks will be present, with rarity 0.05.
              - gimmicks: [single, single, single, single]
                sub_rarity: 0.1
                # Any five gimmicks will be present, with rarity 0.03.
              - gimmicks: [single, single, single, single, single]
                sub_rarity: 0.05
            display_name: Combo
            bid_aliases: [combo]
            icon: combo
            description: # Leave blank for auto generated description.
     
    ################
    token_combo:
    ################
        token_combo:
            display_name: Combo
            bid_aliases:
            icon: combo
            description: # Leave blank for auto generated description.
          
      
################################
additional_restrictions:
################################
    # Only 'single' gimmicks and metagames may be blacklisted.
    # BaseGimmick category shorthand aliases such as 'pokemon_theme' may be used.
    ################
    automated_matchmaking:
    ################
        mode_blacklist: []
        mode_pair_blacklists:
            # Ban two modes from ever appearing together in a match.
          - [defiance, fog]
          - [defiance, letdown]
          - [commitment, fog]
          - [commitment, fragile]
          - [commitment, hidden_ace]
          - [commitment, letdown]
          - [commitment, rainbow]
          - [synchronize, fragile]
          - [ubers, fog]
    
    ################
    token_matchmaking:
    ################
        mode_blacklist:
            # Ban a mode from ever appearing in a match.
          - fog
          - fire_and_ice
          - sky_battle
        mode_pair_blacklists:
            # Ban two modes from ever appearing together in a match.
          - [defiance, letdown]
          - [commitment, fragile]
          - [commitment, hidden_ace]
          - [commitment, letdown]
          - [commitment, rainbow]
          - [synchronize, fragile]
          - [ubers, defiance]
        team_choice_gimmick_blacklist:
            # If a bidder chooses any of these gimmicks, they will be unable to choose teams (other than the exceptions listed below).
          - defiance
          - commitment
          - clone
          - sketchy
          - raccoon
        metagame_mixes:
            # Any mix of these Pokemon is fine.
          - [simple, advanced, runmons, starters]
          # Any mix of these Pokemon is fine.
          - [starters, metronome, ohko, seismic_toss, pokecidal]
          # Any mix with metagames that are not contained 
          # in a single list will be rejected.
          #
          # Ex: Simple and Ubers may not be mixed.
          # Simple, Ashmons, and Metronome may not be mixed either.
          # Simple and Ashmons may be mixed. 
         
fake_mode_icons:
    [screwball, biohazard, recycle, snail, spooky, springy, unicorn, 
    fakesocialism, idea, fishy, trash, atomic, gears, puppet, graph,
    jiggy, egg, departed, raccoon]
          
          