---
################################################################
################################################################
# PBR Match Configuration v4.0
# 
# This is a near-perfect reproduction of PBR 4.0's current 
# automated matchmaking in terms of metagames, gimmicks, 
# and match settings. (fog behavior is an exception).
# 
# Configuration Reference:
# https://docs.google.com/document/d/13B3cE4udEvMAgjE4q0S_h_UsDOlXHTuUHtOS_B_y-Tk/edit?usp=sharing
#
# If you are new to YAML, download Notepad++ to take advantage of
# colored syntax highlighting for much easier reading.
#
################################################################
################################################################


################################
default match settings:
################################
    ################
    # Metagames and gimmicks may specify 
    # different values for these settings:
    ################
    
    # Delay in seconds before selecting a move.
    move delay: 4 
    
    # Delay in seconds before selecting a switch.
    switch delay: 5
    
    # PBR emulation speed multipler.
    pbr speed multiplier: 1
    
    # Percent chance for switching to be on.
    switching: 50     
    
    # Early betting bonus.
    bet bonus: 30
    
    
    ################
    # Metagames and gimmicks may NOT specify 
    # different values for these settings:
    ################
    
    bet limits:
        betting start:
            limit:     # Set an amount if desired.
        after betting start:
            # Add entries if desired.
        before betting end: 
            # Add or remove entries as desired.
          - seconds: 40
            limit: 50000
          - seconds: 20
            limit: 5000
  
    # Five points define four sections of linear decay.
    # The bet bonus at these points is 'bet bonus' * 'bonus multiplier'.
    # 
    # Points must preserve chronological order.
    # Betting duration is variable with the song length.
    # 
    # Only numerical values can be changed.
    # Metagames and gimmicks cannot specify different values.
    bet bonus decay:
        betting start:
            bonus multiplier: 1.00
        after betting start 1:
            seconds: 20
            bonus multiplier: 1.00
        after betting start 2:
            seconds: 80
            bonus multiplier: 0.30
        before betting end:
            seconds: 30
            bonus multiplier: 0.0
        betting end:
            bonus multiplier: 0.0

    # Increase bet bonus by some percentage when switching is on.
    # Does not apply to token matches.
    bet bonus switching boost: 0
            
    # If a token match bidder chooses sets, switching is forced 
    # to be off (but still may be special for U-turn).
    force switching off if set choice: false
    
    # The bet bonus for token matches in which the 
    # match bidder specifies their sets.
    set choice bet bonus: 0
    
    # Applies to all matches.  This minimum overrides
    # all other settings, including the 'set choice bet bonus'.
    minimum bet bonus: 2
            
            
################################
one move per Pokemon settings:
################################
    # Settings that trigger when switching is off 
    # and there is one move per Pokemon.
    # (Ex: metronome, ohko, and metronome + ohko matches).
    move delay: 0
    switch delay: 0
    pbr speed multiplier: 1.5

    
################################
metagames:
################################
    ################
    single:
    ################
        # Metagame name for the overlay and token match bid commands.
      - Simple:
            # These are not percentages.
            # In metagame selection, metagames are chosen by accumulating 
            # and then randomly bisecting their rarities.
            rarity: 42.82
            # Permit all gimmicks except Fog and combos.
            gimmick rarity blacklist:
              - Fog
              - combos
            # Corresponds to the tag set by movesets.
            tag: standard
            # Filename of icon, sans extension.
            icon: simple
            # Description for the overlay.
            description: A match using simple movesets.
            
      - Advanced:
            rarity: 3.0
            # Permit only the "none" gimmick for this metagame.
            gimmick rarity whitelist:
              - None
            tag: advanced
            icon: advanced
            description: A match using more complex movesets.
            
      - Ubers:
            rarity: 3.0
            # Permit only the "none" gimmick for this metagame.
            gimmick rarity whitelist:
              - None
            tag: ubers
            icon: ubers
            description: A match using the most powerful Pokémon with very strong sets.
            
      - Middle Cup:
            rarity: 0
            # An example of changing gimmick rarities.
            gimmick rarities:
              - Defiance: 0.5
            tag: middle-cup
            # Alternate names accepted in match bids.
            alt names: [mc, mcup]
            icon: 
            description: 
            
      - Little Cup:
            rarity: 0
            tag: little-cup
            alt names: [lc, lcup]
            icon: 
            description: 
            
      - Stadium 2:
            rarity: 3.0
            # Permit only "S2 Combo" for this metagame.
            gimmick rarity whitelist:
              - S2 Combo
            tag: setname+stadium-2
            icon: stadium2
            description: A match using Lv. 100 rental Pokémon from Stadium 2.
            
      - Runmons:
            rarity: 0
            tag: runmon
            icon: 
            description: 
            
      - Starters:
            rarity: 0
            tag: starterbattle
            icon: 
            description: 
            
      - Metronome:
            # This bet bonus applies to metronome token match bids
            # which did not choose sets.
            # Ex: 'match metronome t1'
            bet bonus: 5
            rarity: 0
            tag: setname+metronome
            alt names: [metro]
            icon: 
            description: 
            
      - OHKO:
            bet bonus: 5
            rarity: 0
            tag: ohko
            icon: 
            description: 
            
      - Seismic Toss:
            bet bonus: 5
            rarity: 0
            tag: setname+st
            alt names: [st, toss]
            icon: 
            description: 
            
        # Renamed the KAPOW metagame to avoid conflict with the KAPOW gimmick.
      - Pokecidal:
            rarity: 0
            tag: kapow
            icon: 
            description: 
            
      - Rough Skin:
            bet bonus: 5
            rarity: 0
            tag: rough-skin
            alt names: [rs]
            icon: 
            description: 
            
      - Input War:
            bet bonus: 5
            rarity: 0
            tag: input-war
            icon: 
            description: 
        

    # Very possibly matchmaker is unable to create balanced mixed metagame
    # matches between anything except Simple and Advanced sets.
    # Should run simulations to examine match quality before deploying.
    # This might be a target area for future matchmaker improvement.
    ################
    versus mixes:
    ################
      - Class Warfare:
            # Example of having 10 different versus mixes falling
            # under the name 'Class Warfare'.
            metagames:
                # 4 choose 2 = 6 versus mixes specified by this line.
                # Each has rarity 0.05.
              - [Simple, Runmons, Ashmons, Stadium 2]: 0.05
              
                # Mixes can be specified pairwise if desired, for 
                # more fine-tuned rarities.
              - [Advanced, Stadium 2]: 0.1
              
                # 3 choose 2 = 3 versus mixes, each with raity 0.05.
              - [Advanced, Runmons, Ashmons]: 0.05
            
            # Example of disabling this metagame entirely.
            disabled: true
            icon: versus
            description: # Leave blank for auto generated description.
         
      - Brain Battle:
            # Example of isolating Simple vs. Advanced to give it a
            # different name, icon, and/or description.
            metagames:
              - [Simple, Advanced]: 3.0
              
            disabled: true
            icon: versus
            description: # Leave blank for auto generated description.
            

    ################
    random mixes:
    ################
      - Mix:
            # Example of having 2 different random mixes 
            # falling under the name 'Mix'
            metagames:
                # At least one Pokemon from each metagame will be present.
              - [Advanced, Ubers]: 1.0
              
                # At least one Pokemon from each metagame will be present.
                # Note this is therefore ONE mix, with rarity 3.0.
              - [Simple, Advanced, Runmons, Ashmons]: 3.0
              
            disabled: true
            icon: mix
            description: # Leave blank for auto generated description.

      - Brain Mix:
            # Example of isolating Simple vs. Advanced to give it a 
            # different name, icon, and/or description.
            metagames:
              - [Simple, Advanced]: 3.0
              
            disabled: true
            icon: mix
            description: # Leave blank for auto generated description.

            
    ################
    token mix:
    ################
        display name: Mix
        metagames:
            # Any mix of these Pokemon is fine.
          - [Simple, Advanced, Ashmons, Runmons, Starters]
          
          # Any mix of these Pokemon is fine.
          - [Metronome, OHKO, ST, KAPOW, Starters]
          
          # Any mix with metagames that are not contained 
          # in a single list will be rejected.
          #
          # Ex: Simple and Ubers may not be mixed.
          # Simple, Ashmons, and Metronome may not be mixed either.
          # Simple and Ashmons may be mixed.
        icon: mix
        description: # Leave blank for auto generated description.
  
    
################################
gimmicks:
################################
    ################
    single:
    ################
    
        # Gimmicks are automatically assigned one or more of the commented categories.

        ################
        # none category
        ################
      - None:
        rarity: 34.91
        description: No special rules or mechanics are applied.
                
        ################
        # input change category
        ################
      - Defiance:
            # These are not percentages.
            # In gimmick selection, gimmicks are chosen by accumulating 
            # and then randomly bisecting their rarities.
            rarity: 3.0
            switching: permanently disabled       
            move delay: 0
            switch delay: 0
            pbr speed multiplier: 1.5
            # A tag for programmers.
            code tag: defiance
            icon: defiance
            description: Inputs are ineffective. Each move will have a probability of 25% to be chosen.
            
      - Commitment:
            rarity: 2.0
            move delay: 0
            switch delay: 0
            code tag: commitment
            # Another tag for programmers.
            # This one passes along the seconds value.
            code params: {seconds: 20}
            icon: commitment
            description: Inputs can't be changed anymore 20 seconds after betting has ended.
            
      - Duel:
            rarity: 1.0
            code tag: duel
            icon: duel
            description: It's a one on one showdown! The inputter with the most influence on their team gets total control of the team.
            
      - Synchronize:
            rarity: 0.5
            bet bonus: 0
            code tag: synchronize
            icon: synchronize
            description: Inputs from both teams are combined into one single input pool affecting both sides. Disables early bet bonuses.
            
        # An example of increasing the bet bonus.
      - Synchronize 2:
            rarity: 0
            code tag: cross influence
            code params: {percentage: 50}
            bet bonus: 50
            description: Teams have 50% input influence on each other.
        
        ################
        # team change category
        ################
      - Random Order:
            rarity: 1.0
            # Switching = 0 allows for U-turn style switching
            # if this gimmick gets combined with Hit and Run.
            switching: 0
            code tag: random order
            icon: random order
            description: The order in which the Pokémon are sent out will be randomized after the match has started.
            
      - Secrecy:
            rarity: 1.0
            code tag: secrecy
            icon: secrecy
            description: One Pokémon of each team is hidden and gets revealed after the match has started.
            
      - Traitor:
            rarity: 1.0
            code tag: traitor
            icon: traitor
            description: One Pokémon from each team is actually on the other team! The traitors get revealed after the match has started.
            
                
        ################
        # battle change category
        ################
      - Fog:
            rarity: 0
            code tag: fog
            icon: 
            description: The Colosseum is shrouded in a deep fog!  Moves are 60% as accurate.
            
      - Speed:
            rarity: 2.0
            move delay: 0
            switch delay: 0
            pbr speed multiplier: 2.0
            description: The match is sped up. There are no delays, and animations play faster.
            
      - Fragile:
            rarity: 1.0
            code tag: global pp change
            code params: {amount: 1}
            # Switching = 0 allows for U-turn style switching
            # if this gimmick gets combined with Hit and Run.
            switching: 0
            description: Each move will start with exactly 1 PP.
        
        ################
        # species replace category
        ################
      - Clone:
            rarity: 0.3
            one species per match: true
            # Probably need a few more mons in this blacklist.
            species blacklist:
              - Shuckle
              - Blissey
              - Chansey
              - Steelix
              - Regirock
              - Regice
              - Registeel
              - Cloyster
              - Aggron
              - Bastiodon
              - Onix
              - Probopass
              - Forretress
              - Skarmory
              - Nosepass
              - Bronzor
              - Bronzong
              - Wobbuffet
              - Giratina
            code tag: clone
            icon: clone
            description: All Pokémon become the same random species, but otherwise keep their sets.
            
      - Sketchy:
            rarity: 0.01
            one species per match: true
            species whitelist:
              - Smeargle
            icon: sketchy
            description: All Pokémon are replaced by Smeagles, but otherwise keep their sets.
        
        # Examples, some with multiple species per match.
      - Gone to the Dogs:
            rarity: 0.0
            one species per match: false
            species whitelist:
              - Growlithe
              - Arcanine
              - Houndour
              - Houndoom
              - Raikou
              - Entei
              - Suicune
              - Poochyena
              - Mightyena
              - Electrike
              - Manectric
              - Absol
            icon:
            description:
            
      - Try Hard Tricksters:
            rarity: 0.0
            one species per match: false
            species whitelist:
              - Deoxys
              - Darkrai
              - Entei
              - Regigigas
            icon:
            description:
            
      - Raccoon:
            rarity: 0.0
            one species per match: true
            species whitelist:
              - Zigzagoon
            icon: raccoon   # Icon actually exists already.
            description:
              
        ################
        # ability replace category
        ################
      - Chameleon:
            rarity: 1.0
            abilities:
              - Color Change
            icon: chameleon
            description: All abilities get replaced with Color Change. (Changes the Pokémon's type to the type of the move used on it.)
            
      - Shield:
            rarity: 0.2
            abilities:
              - Shield Dust
            icon: shield
            description: All abilities get replaced with Shield Dust. (Moves only do damage, with no added effects.)
            
      - Armor:
            rarity: 0.2
            abilities:
              - Battle Armor
              # - Shell Armor
            icon: armor
            description: All abilities get replaced with Battle Armor. (Critical hits are impossible.)
            
      - Pinpoint:
            rarity: 0.1
            abilities:
              - No Guard
            icon: pinpoint
            description: All abilities get replaced with No Guard. (Moves cannot miss.)
            
      - Acid Rain:
            rarity: 0       # Do not enable until PBR bugfix.
            abilities:
              - Drizzle
              - Drought
              - Sand Stream
              - Snow Warning
            icon: acidrain
            description: All abilities get replaced with a random weather inducing ability.
          
        ################
        # move replace category
        ################
      - KAPOW:
            rarity: 1.0
            moves:
              - Self-destruct
              - Explosion
            icon: kapow
            description: Each Pokémon has one random move replaced with Explosion or Self Destruct.
            
      - Rainbow:
            # An old idea was to replace abilities with serene grace.
            # If accepted, this should move to the "multi replace" 
            # section below, just for organizational purposes.
            rarity: 0.5
            moves:
              - Ominous Wind
              - Ancient Power
              - Silver Wind
            description: All Pokémon have a random move replaced with one that has a 10% chance to raise all of the user's stats.
            
      - Hit And Run:
            rarity: 0.5
            moves:
              - U-turn
            switching: special
            icon: hitandrun
            description: Each Pokémon has one random move replaced with U-Turn. Switch votes only apply if U-Turn was used.
            
      - Hidden Ace:
            moves:
              - Trump Card
            move pp: 1
            rarity: 0.4
            icon: hiddenace
            description: Each Pokémon has one random move replaced with Trump Card at 1PP. (The move has 200 power.)
            
      - Letdown:
            moves:
              - Splash
            icon: letdown
            rarity: 0.1
            description: Each Pokémon has one random move replaced with Splash.
            
        # An additional example.
      - Sacrifice:
            rarity: 0.0
            moves: 
              - Memento
              - Healing Wish
              - Lunar Dance
            switching: 100
            icon:
            description:

        ################
        # item replace category
        ################
        # Just examples.
      - Life Orbs:
            rarity: 0.0
            items:
              - Life Orb
            icon:
            description:
            
      - Other Orbs:
            rarity: 0.0
            items:
              - Toxic Orb
              - Flame Orb
            icon:
            description:
            
        ################
        # pokemon theme category
        ################
      - Fire and Ice:
            theme:
                types:
                  - Fire
                  - Ice
            rarity: 0.2
            icon: fireandice
            description: Only fire and ice type Pokémon are allowed.
            
      - Sky Battle:
            theme:
                types:
                  - Flying
                abilities:
                  - Levitate
            rarity: 0.5
            icon: skybattle
            description: Only flying type and levitating Pokémon are allowed.
                
        # Gimmicks that will be auto-assigned multiple categories.
        ################
        # multi category
        ################
      - Lucky:
            rarity: 0.3
            abilities:
              - Super luck
            items: 
              - Scope lens
            icon: lucky
            description: All abilities get replaced with Super Luck, and items with scope lens (Raises critical chance by 2 stages total).
            
      - Boing:
            rarity: 0.1
            abilities:
              - Skill Link
            moves:
              - Barrage
            icon: boing
            description: All Pokémon get the Skill Link ability and the move Barrage (All multi-hit moves like Barrage hit 5 times).
            
            # Another example.
      - No Touching!:
            rarity: 0.0
            abilities:
              - Static
              - Poison Point
              - Flame Body
              - Effect Spore
              - Rough Skin
              - Aftermath
            items:
              - Jaboca Berry    # Not perfect, but pretty close.
            icon:
            description:
    
        
    ################
    random combos:
    ################
      - S2 Combo:   
            # This is only able to produce one combo:
            # Defiance + Random Order, the current combo for Stadium 2 metagames.
            gimmicks:
                # These two gimmicks will be present 
                # in the combo, with rarity 1.0.
              - [Defiance, Random Order]: 1.0
            icon: combo
            description: Defiance and Random Order.
      
      - Combo:
            gimmicks:
                # Any two gimmicks will be present, with rarity 0.1.
              - [any, any]: 0.1
                # Any three gimmicks will be present, with rarity 0.1.
              - [any, any, any]: 0.1
                # Any four gimmicks will be present, with rarity 0.05.
              - [any, any, any, any]: 0.05
                # Any five gimmicks will be present, with rarity 0.03.
              - [any, any, any, any, any]: 0.03
              
              
            # Example of disabling this gimmick entirely.
            disabled: true
            icon: combo
            description: # Leave blank for auto generated description.
     
    ################
    token combo:
    ################
        display name: Combo
        icon: combo
        description: # Leave blank for auto generated description.
          
      
################################
additional restictions:
################################
    ################
    automated matchmaking:
    ################
        gimmick pair blacklist:
            # Each pair bans two gimmicks from being combined under any circumstances.
          - [Defiance, Fog]
          - [Defiance, Letdown]
          - [Commitment, Fog]
          - [Commitment, Fragile]
          - [Commitment, Hidden Ace]
          - [Commitment, Letdown]
          - [Commitment, Rainbow]
          - [Synchronize, Fragile]
        metagame-gimmick pair blacklist:
          - [Ubers, Fog]
    
    ################
    token matchmaking:
    ################
        gimmick blacklist:
            # Nuclear option that prevents a gimmick from ever being bid for by a token match.
          - Fog
        gimmick pair blacklist:
            # Each pair bans two gimmicks from being combined under any circumstances.
          - [Defiance, Letdown]
          - [Commitment, Fragile]
          - [Commitment, Hidden Ace]
          - [Commitment, Letdown]
          - [Commitment, Rainbow]
          - [Synchronize, Fragile]
        metagame-gimmick pair blacklist:
            # Each pair bans one metagame and one gimmick from being combined under any circumstances.
          - [Ubers, Defiance]
          - [Starters, pokemon theme]
          - [Metronome, pokemon theme]
          - [OHKO, pokemon theme]
          - [ST, pokemon theme]
          - [KAPOW, pokemon theme]
          - [Rough Skin, pokemon theme]
          - [Input War, pokemon theme]
        set choice gimmick blacklist:
            # If a bidder chooses any of these gimmicks, they will be unable to choose any Pokemon sets (other than the exceptions listed below).
          - Defiance
          - Commitment
          - species replace
          - move replace
        set choice metagame exceptions:
            # Some metagames are small and sterile, and so should not be under the above restrictions.
          - Starters
          - Metronome
          - OHKO
          - ST
                  
                  
################################       
splatoon:
################################ 
    gimmicks per rotation: 2
    # In hours.
    rotation duration: 2
    total gimmick occurrence: 30

    
################################
# other stuff
################################
# Not well organized yet.
matchmaker_tag: ["standard"]
matchmaker_unweight_shinies: false
holiday_mode: false     # No holiday edits yet, but they will be added.
splatoon enabled: false